{{- define "main" -}}
<article class="hx:w-full">
  <!-- Tab header -->
  <header class="hx:mb-6">
    <h1 class="hx:text-3xl hx:font-bold">{{ .Title }}</h1>
    {{- with .Summary }}
    <p class="hx:mt-2 hx:text-gray-600 hx:dark:text-gray-300">{{ . }}</p>
    {{- end }}
  </header>

  <!-- Tab content (if any before rows) -->
  {{- if .Content }}
  <section class="hx:mb-8 hx:prose hx:dark:prose-invert hx:max-w-none">
    {{ .Content }}
  </section>
  {{- end }}

  <!-- Rows with their cells displayed -->
  <div class="hx:space-y-8">
    {{- range .Sections }}
    <div
      class="hx:border hx:border-gray-300 hx:dark:border-neutral-600 hx:rounded-lg hx:p-6 hx:bg-gray-50 hx:dark:bg-neutral-800">
      <h2 class="hx:text-2xl hx:font-bold hx:mb-4">
        <a href="{{ .RelPermalink }}" class="hx:text-blue-600 hx:dark:text-blue-400 hx:hover:underline">{{ .Title }}</a>
      </h2>

      <!-- Cells displayed horizontally -->
      <div class="hx:flex hx:gap-4 hx:overflow-x-auto hx:pb-4">
        {{- range .Sections }}
        <div
          class="hx:shrink-0 hx:w-64 hx:border hx:border-gray-200 hx:dark:border-neutral-700 hx:rounded-sm hx:p-4 hx:bg-white hx:dark:bg-neutral-900">
          <h3 class="hx:text-lg hx:font-semibold hx:mb-3">
            <a href="{{ .RelPermalink }}" class="hx:text-blue-600 hx:dark:text-blue-400 hx:hover:underline">{{ .Title
              }}</a>
          </h3>
          <div class="hx:prose hx:prose-sm hx:dark:prose-invert hx:max-w-none" contenteditable="true">
            {{ .Content }}
          </div>
        </div>
        {{- end }}
      </div>
    </div>
    {{- end }}
  </div>
</article>
{{- end }}